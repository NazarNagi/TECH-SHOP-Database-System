-- MySQL Script generated by MySQL Workbench
-- Wed May  8 21:12:10 2024
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema SKYLINE_SHOP
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `SKYLINE_SHOP` ;

-- -----------------------------------------------------
-- Schema SKYLINE_SHOP
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `SKYLINE_SHOP` DEFAULT CHARACTER SET utf8 ;
-- -----------------------------------------------------
-- Schema skyline_shop
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `skyline_shop` ;

-- -----------------------------------------------------
-- Schema skyline_shop
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `skyline_shop` DEFAULT CHARACTER SET utf8mb3 ;
USE `SKYLINE_SHOP` ;

-- -----------------------------------------------------
-- Table `SKYLINE_SHOP`.`VENDOR`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `SKYLINE_SHOP`.`VENDOR` ;

CREATE TABLE IF NOT EXISTS `SKYLINE_SHOP`.`VENDOR` (
  `VEND_ID` INT NOT NULL AUTO_INCREMENT,
  `VEND_NAME` VARCHAR(45) NOT NULL,
  `VEND_PHONE` VARCHAR(45) NOT NULL,
  `VEND_EMAIL` VARCHAR(45) NOT NULL,
  `VEND_ADDRESS` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`VEND_ID`),
  UNIQUE INDEX `VEND_NAME_UNIQUE` (`VEND_NAME` ASC) VISIBLE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SKYLINE_SHOP`.`WAREHOUSE`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `SKYLINE_SHOP`.`WAREHOUSE` ;

CREATE TABLE IF NOT EXISTS `SKYLINE_SHOP`.`WAREHOUSE` (
  `WARE_ID` INT NOT NULL AUTO_INCREMENT,
  `WARE_NAME` VARCHAR(45) NOT NULL,
  `WARE_LOCAT` VARCHAR(45) NOT NULL DEFAULT 'AL-BAHA',
  `WARE_CAPACITY` INT NOT NULL DEFAULT 0 CHECK (WARE_CAPACITY >= 0),
  PRIMARY KEY (`WARE_ID`),
  UNIQUE INDEX `WARE_NAME_UNIQUE` (`WARE_NAME` ASC) VISIBLE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SKYLINE_SHOP`.`BRANDS`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `SKYLINE_SHOP`.`BRANDS` ;

CREATE TABLE IF NOT EXISTS `SKYLINE_SHOP`.`BRANDS` (
  `BRAND_ID` INT NOT NULL AUTO_INCREMENT,
  `BRAND_NAME` VARCHAR(45) NOT NULL,
  `BRAND_DESC` VARCHAR(45) NULL,
  `BRAND_CONTA` VARCHAR(45) NULL,
  PRIMARY KEY (`BRAND_ID`),
  UNIQUE INDEX `BRAND_NAME_UNIQUE` (`BRAND_NAME` ASC) VISIBLE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SKYLINE_SHOP`.`CATEGARIES`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `SKYLINE_SHOP`.`CATEGARIES` ;

CREATE TABLE IF NOT EXISTS `SKYLINE_SHOP`.`CATEGARIES` (
  `CATEG_ID` INT NOT NULL AUTO_INCREMENT,
  `CATEG_DESC` VARCHAR(45) NULL,
  `CATEG_NAME` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`CATEG_ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SKYLINE_SHOP`.`PRODUCTS`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `SKYLINE_SHOP`.`PRODUCTS` ;

CREATE TABLE IF NOT EXISTS `SKYLINE_SHOP`.`PRODUCTS` (
  `PROD_ID` INT NOT NULL AUTO_INCREMENT,
  `VEND_ID` INT NOT NULL,
  `WARE_ID` INT NOT NULL,
  `BRAND_ID` INT NOT NULL,
  `PROD_NAME` VARCHAR(45) NOT NULL,
  `PROD_DESC` VARCHAR(45) NOT NULL,
  `PROD_PRICE` DECIMAL NOT NULL DEFAULT 00.00 CHECK (PROD_PRICE >= 0),
  `PROD_QUANTITY` INT NOT NULL DEFAULT 0 check(PROD_QUANTITY >= 0),
  `CATEG_ID` INT NOT NULL,
  PRIMARY KEY (`PROD_ID`),
  INDEX `fk_PRODUCTS_VENDOR1_idx` (`VEND_ID` ASC) VISIBLE,
  INDEX `fk_PRODUCTS_WAREHOUSE1_idx` (`WARE_ID` ASC) VISIBLE,
  INDEX `fk_PRODUCTS_BRAND1_idx` (`BRAND_ID` ASC) VISIBLE,
  INDEX `fk_PRODUCTS_CATEGARIES1_idx` (`CATEG_ID` ASC) VISIBLE,
  CONSTRAINT `fk_PRODUCTS_VENDOR1`
    FOREIGN KEY (`VEND_ID`)
    REFERENCES `SKYLINE_SHOP`.`VENDOR` (`VEND_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_PRODUCTS_WAREHOUSE1`
    FOREIGN KEY (`WARE_ID`)
    REFERENCES `SKYLINE_SHOP`.`WAREHOUSE` (`WARE_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_PRODUCTS_BRAND1`
    FOREIGN KEY (`BRAND_ID`)
    REFERENCES `SKYLINE_SHOP`.`BRANDS` (`BRAND_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_PRODUCTS_CATEGARIES1`
    FOREIGN KEY (`CATEG_ID`)
    REFERENCES `SKYLINE_SHOP`.`CATEGARIES` (`CATEG_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SKYLINE_SHOP`.`CUSTOMER`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `SKYLINE_SHOP`.`CUSTOMER` ;

CREATE TABLE IF NOT EXISTS `SKYLINE_SHOP`.`CUSTOMER` (
  `CUST_ID` INT NOT NULL AUTO_INCREMENT,
  `CUST_NAME` VARCHAR(45) NOT NULL,
  `CUST_EMAIL` VARCHAR(45) NOT NULL,
  `CUST_PHONE` INT NOT NULL,
  `CUST_ADDRESS_1` VARCHAR(45) NOT NULL,
  `CUST_ADDRESS_2` VARCHAR(45) NULL,
  PRIMARY KEY (`CUST_ID`),
  UNIQUE INDEX `CUST_EMAIL_UNIQUE` (`CUST_EMAIL` ASC) VISIBLE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SKYLINE_SHOP`.`MANAGERS`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `SKYLINE_SHOP`.`MANAGERS` ;

CREATE TABLE IF NOT EXISTS `SKYLINE_SHOP`.`MANAGERS` (
  `MANAGER_ID` INT NOT NULL AUTO_INCREMENT,
  `MANGAER_NAME` VARCHAR(45) NOT NULL,
  `MANAGER_EMAIL` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`MANAGER_ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SKYLINE_SHOP`.`DEPARTMENT`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `SKYLINE_SHOP`.`DEPARTMENT` ;

CREATE TABLE IF NOT EXISTS `SKYLINE_SHOP`.`DEPARTMENT` (
  `DEPA_ID` INT NOT NULL AUTO_INCREMENT,
  `DEPA_NAME` VARCHAR(45) NOT NULL,
  `DEPA_DESC` VARCHAR(45) NULL,
  `MANAGER_ID` INT NOT NULL,
  PRIMARY KEY (`DEPA_ID`),
  UNIQUE INDEX `DEPA_NAME_UNIQUE` (`DEPA_NAME` ASC) VISIBLE,
  INDEX `fk_DEPARTMENT_DEPAT_MANAGER1_idx` (`MANAGER_ID` ASC) VISIBLE,
  CONSTRAINT `fk_DEPARTMENT_DEPAT_MANAGER1`
    FOREIGN KEY (`MANAGER_ID`)
    REFERENCES `SKYLINE_SHOP`.`MANAGERS` (`MANAGER_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SKYLINE_SHOP`.`EMPLOYEE`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `SKYLINE_SHOP`.`EMPLOYEE` ;

CREATE TABLE IF NOT EXISTS `SKYLINE_SHOP`.`EMPLOYEE` (
  `EMP_ID` INT NOT NULL AUTO_INCREMENT,
  `DEPA_ID` INT NOT NULL,
  `EMP_NAME` VARCHAR(45) NOT NULL,
  `EMP_EMAIL` VARCHAR(45) NOT NULL,
  `EMP_PHONE` INT NOT NULL,
  `EMP_STATE` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`EMP_ID`),
  INDEX `fk_EMPLOYEE_DEPARTMENT1_idx` (`DEPA_ID` ASC) VISIBLE,
  CONSTRAINT `fk_EMPLOYEE_DEPARTMENT1`
    FOREIGN KEY (`DEPA_ID`)
    REFERENCES `SKYLINE_SHOP`.`DEPARTMENT` (`DEPA_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SKYLINE_SHOP`.`ORDER`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `SKYLINE_SHOP`.`ORDER` ;

CREATE TABLE IF NOT EXISTS `SKYLINE_SHOP`.`ORDER` (
  `ORDER_ID` INT NOT NULL AUTO_INCREMENT,
  `EMP_ID` INT NOT NULL,
  `CUST_ID` INT NOT NULL,
  `ORDER_STATE` VARCHAR(45) NOT NULL,
  `ORDER_DATE` DATE NOT NULL,
  `ORDER_ADDRESS` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`ORDER_ID`),
  INDEX `fk_ORDER_EMPLOYEE1_idx` (`EMP_ID` ASC) VISIBLE,
  INDEX `fk_ORDER_CUSTOMER1_idx` (`CUST_ID` ASC) VISIBLE,
  CONSTRAINT `fk_ORDER_EMPLOYEE1`
    FOREIGN KEY (`EMP_ID`)
    REFERENCES `SKYLINE_SHOP`.`EMPLOYEE` (`EMP_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ORDER_CUSTOMER1`
    FOREIGN KEY (`CUST_ID`)
    REFERENCES `SKYLINE_SHOP`.`CUSTOMER` (`CUST_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SKYLINE_SHOP`.`INVOICE`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `SKYLINE_SHOP`.`INVOICE` ;

CREATE TABLE IF NOT EXISTS `SKYLINE_SHOP`.`INVOICE` (
  `INVOICE_ID` INT NOT NULL AUTO_INCREMENT,
  `INVOICE_DATE` DATE NULL,
  `PROD_ID` INT NOT NULL,
  `ORDER_ID` INT NOT NULL,
  `PROD_QUANT` INT NOT NULL DEFAULT 1 CHECK(PROD_QUANT >= 1),
  PRIMARY KEY (`INVOICE_ID`),
  INDEX `fk_INVOICE_PRODUCTS1_idx` (`PROD_ID` ASC) VISIBLE,
  INDEX `fk_INVOICE_ORDER1_idx` (`ORDER_ID` ASC) VISIBLE,
  CONSTRAINT `fk_INVOICE_PRODUCTS1`
    FOREIGN KEY (`PROD_ID`)
    REFERENCES `SKYLINE_SHOP`.`PRODUCTS` (`PROD_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_INVOICE_ORDER1`
    FOREIGN KEY (`ORDER_ID`)
    REFERENCES `SKYLINE_SHOP`.`ORDER` (`ORDER_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SKYLINE_SHOP`.`SHIPMENT`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `SKYLINE_SHOP`.`SHIPMENT` ;

CREATE TABLE IF NOT EXISTS `SKYLINE_SHOP`.`SHIPMENT` (
  `SHIP_ID` INT NOT NULL AUTO_INCREMENT,
  `ORDER_ID` INT NOT NULL,
  `EMP_ID` INT NOT NULL,
  `SHIP_DATE` DATE NOT NULL,
  `SHIP_ARR_DATE` DATE NOT NULL,
  `SHIP_TRACK_NO` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`SHIP_ID`),
  INDEX `fk_SHIPMENT_ORDER1_idx` (`ORDER_ID` ASC) VISIBLE,
  INDEX `fk_SHIPMENT_EMPLOYEE1_idx` (`EMP_ID` ASC) VISIBLE,
  UNIQUE INDEX `SHIP_TRACK_NO_UNIQUE` (`SHIP_TRACK_NO` ASC) VISIBLE,
  CONSTRAINT `fk_SHIPMENT_ORDER1`
    FOREIGN KEY (`ORDER_ID`)
    REFERENCES `SKYLINE_SHOP`.`ORDER` (`ORDER_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_SHIPMENT_EMPLOYEE1`
    FOREIGN KEY (`EMP_ID`)
    REFERENCES `SKYLINE_SHOP`.`EMPLOYEE` (`EMP_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

USE `skyline_shop` ;

-- -----------------------------------------------------
-- Table `skyline_shop`.`brands`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `skyline_shop`.`brands` ;

CREATE TABLE IF NOT EXISTS `skyline_shop`.`brands` (
  `BRAND_ID` INT NOT NULL AUTO_INCREMENT,
  `BRAND_NAME` VARCHAR(45) NOT NULL,
  `BRAND_DESC` VARCHAR(45) NULL DEFAULT NULL,
  `BRAND_CONTA` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`BRAND_ID`),
  UNIQUE INDEX `BRAND_NAME_UNIQUE` (`BRAND_NAME` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `skyline_shop`.`categaries`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `skyline_shop`.`categaries` ;

CREATE TABLE IF NOT EXISTS `skyline_shop`.`categaries` (
  `CATEG_ID` INT NOT NULL AUTO_INCREMENT,
  `CATEG_DESC` VARCHAR(45) NULL DEFAULT NULL,
  `CATEG_NAME` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`CATEG_ID`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `skyline_shop`.`customer`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `skyline_shop`.`customer` ;

CREATE TABLE IF NOT EXISTS `skyline_shop`.`customer` (
  `CUST_ID` INT NOT NULL AUTO_INCREMENT,
  `CUST_NAME` VARCHAR(45) NOT NULL,
  `CUST_EMAIL` VARCHAR(45) NOT NULL,
  `CUST_PHONE` INT NOT NULL,
  `CUST_ADDRESS_1` VARCHAR(45) NOT NULL,
  `CUST_ADDRESS_2` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`CUST_ID`),
  UNIQUE INDEX `CUST_EMAIL_UNIQUE` (`CUST_EMAIL` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `skyline_shop`.`managers`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `skyline_shop`.`managers` ;

CREATE TABLE IF NOT EXISTS `skyline_shop`.`managers` (
  `MANAGER_ID` INT NOT NULL AUTO_INCREMENT,
  `MANGAER_NAME` VARCHAR(45) NOT NULL,
  `MANAGER_EMAIL` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`MANAGER_ID`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `skyline_shop`.`department`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `skyline_shop`.`department` ;

CREATE TABLE IF NOT EXISTS `skyline_shop`.`department` (
  `DEPA_ID` INT NOT NULL AUTO_INCREMENT,
  `DEPA_NAME` VARCHAR(45) NOT NULL,
  `DEPA_DESC` VARCHAR(45) NULL DEFAULT NULL,
  `MANAGER_ID` INT NOT NULL,
  PRIMARY KEY (`DEPA_ID`),
  UNIQUE INDEX `DEPA_NAME_UNIQUE` (`DEPA_NAME` ASC) VISIBLE,
  INDEX `fk_DEPARTMENT_DEPAT_MANAGER1_idx` (`MANAGER_ID` ASC) VISIBLE,
  CONSTRAINT `fk_DEPARTMENT_DEPAT_MANAGER1`
    FOREIGN KEY (`MANAGER_ID`)
    REFERENCES `skyline_shop`.`managers` (`MANAGER_ID`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `skyline_shop`.`employee`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `skyline_shop`.`employee` ;

CREATE TABLE IF NOT EXISTS `skyline_shop`.`employee` (
  `EMP_ID` INT NOT NULL AUTO_INCREMENT,
  `DEPA_ID` INT NOT NULL,
  `EMP_NAME` VARCHAR(45) NOT NULL,
  `EMP_EMAIL` VARCHAR(45) NOT NULL,
  `EMP_PHONE` INT NOT NULL,
  `EMP_STATE` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`EMP_ID`),
  INDEX `fk_EMPLOYEE_DEPARTMENT1_idx` (`DEPA_ID` ASC) VISIBLE,
  CONSTRAINT `fk_EMPLOYEE_DEPARTMENT1`
    FOREIGN KEY (`DEPA_ID`)
    REFERENCES `skyline_shop`.`department` (`DEPA_ID`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `skyline_shop`.`order`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `skyline_shop`.`order` ;

CREATE TABLE IF NOT EXISTS `skyline_shop`.`order` (
  `ORDER_ID` INT NOT NULL AUTO_INCREMENT,
  `EMP_ID` INT NOT NULL,
  `CUST_ID` INT NOT NULL,
  `ORDER_STATE` VARCHAR(45) NOT NULL,
  `ORDER_DATE` DATE NOT NULL,
  `ORDER_ADDRESS` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`ORDER_ID`),
  INDEX `fk_ORDER_EMPLOYEE1_idx` (`EMP_ID` ASC) VISIBLE,
  INDEX `fk_ORDER_CUSTOMER1_idx` (`CUST_ID` ASC) VISIBLE,
  CONSTRAINT `fk_ORDER_CUSTOMER1`
    FOREIGN KEY (`CUST_ID`)
    REFERENCES `skyline_shop`.`customer` (`CUST_ID`),
  CONSTRAINT `fk_ORDER_EMPLOYEE1`
    FOREIGN KEY (`EMP_ID`)
    REFERENCES `skyline_shop`.`employee` (`EMP_ID`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `skyline_shop`.`vendor`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `skyline_shop`.`vendor` ;

CREATE TABLE IF NOT EXISTS `skyline_shop`.`vendor` (
  `VEND_ID` INT NOT NULL AUTO_INCREMENT,
  `VEND_NAME` VARCHAR(45) NOT NULL,
  `VEND_PHONE` VARCHAR(45) NOT NULL,
  `VEND_EMAIL` VARCHAR(45) NOT NULL,
  `VEND_ADDRESS` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`VEND_ID`),
  UNIQUE INDEX `VEND_NAME_UNIQUE` (`VEND_NAME` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `skyline_shop`.`warehouse`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `skyline_shop`.`warehouse` ;

CREATE TABLE IF NOT EXISTS `skyline_shop`.`warehouse` (
  `WARE_ID` INT NOT NULL AUTO_INCREMENT,
  `WARE_NAME` VARCHAR(45) NOT NULL,
  `WARE_LOCAT` VARCHAR(45) NOT NULL DEFAULT 'AL-BAHA',
  `WARE_CAPACITY` INT NOT NULL DEFAULT '0',
  PRIMARY KEY (`WARE_ID`),
  UNIQUE INDEX `WARE_NAME_UNIQUE` (`WARE_NAME` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `skyline_shop`.`products`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `skyline_shop`.`products` ;

CREATE TABLE IF NOT EXISTS `skyline_shop`.`products` (
  `PROD_ID` INT NOT NULL AUTO_INCREMENT,
  `VEND_ID` INT NOT NULL,
  `WARE_ID` INT NOT NULL,
  `BRAND_ID` INT NOT NULL,
  `PROD_NAME` VARCHAR(45) NOT NULL,
  `PROD_DESC` VARCHAR(45) NOT NULL,
  `PROD_PRICE` DECIMAL(10,0) NOT NULL DEFAULT '0',
  `PROD_QUANTITY` INT NOT NULL DEFAULT '0',
  `CATEG_ID` INT NOT NULL,
  PRIMARY KEY (`PROD_ID`),
  INDEX `fk_PRODUCTS_VENDOR1_idx` (`VEND_ID` ASC) VISIBLE,
  INDEX `fk_PRODUCTS_WAREHOUSE1_idx` (`WARE_ID` ASC) VISIBLE,
  INDEX `fk_PRODUCTS_BRAND1_idx` (`BRAND_ID` ASC) VISIBLE,
  INDEX `fk_PRODUCTS_CATEGARIES1_idx` (`CATEG_ID` ASC) VISIBLE,
  CONSTRAINT `fk_PRODUCTS_BRAND1`
    FOREIGN KEY (`BRAND_ID`)
    REFERENCES `skyline_shop`.`brands` (`BRAND_ID`),
  CONSTRAINT `fk_PRODUCTS_CATEGARIES1`
    FOREIGN KEY (`CATEG_ID`)
    REFERENCES `skyline_shop`.`categaries` (`CATEG_ID`),
  CONSTRAINT `fk_PRODUCTS_VENDOR1`
    FOREIGN KEY (`VEND_ID`)
    REFERENCES `skyline_shop`.`vendor` (`VEND_ID`),
  CONSTRAINT `fk_PRODUCTS_WAREHOUSE1`
    FOREIGN KEY (`WARE_ID`)
    REFERENCES `skyline_shop`.`warehouse` (`WARE_ID`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `skyline_shop`.`invoice`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `skyline_shop`.`invoice` ;

CREATE TABLE IF NOT EXISTS `skyline_shop`.`invoice` (
  `INVOICE_ID` INT NOT NULL AUTO_INCREMENT,
  `INVOICE_DATE` DATE NULL DEFAULT NULL,
  `PROD_ID` INT NOT NULL,
  `ORDER_ID` INT NOT NULL,
  `PROD_QUANT` INT NOT NULL DEFAULT '1',
  PRIMARY KEY (`INVOICE_ID`),
  INDEX `fk_INVOICE_PRODUCTS1_idx` (`PROD_ID` ASC) VISIBLE,
  INDEX `fk_INVOICE_ORDER1_idx` (`ORDER_ID` ASC) VISIBLE,
  CONSTRAINT `fk_INVOICE_ORDER1`
    FOREIGN KEY (`ORDER_ID`)
    REFERENCES `skyline_shop`.`order` (`ORDER_ID`),
  CONSTRAINT `fk_INVOICE_PRODUCTS1`
    FOREIGN KEY (`PROD_ID`)
    REFERENCES `skyline_shop`.`products` (`PROD_ID`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `skyline_shop`.`shipment`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `skyline_shop`.`shipment` ;

CREATE TABLE IF NOT EXISTS `skyline_shop`.`shipment` (
  `SHIP_ID` INT NOT NULL AUTO_INCREMENT,
  `ORDER_ID` INT NOT NULL,
  `EMP_ID` INT NOT NULL,
  `SHIP_DATE` DATE NOT NULL,
  `SHIP_ARR_DATE` DATE NOT NULL,
  `SHIP_TRACK_NO` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`SHIP_ID`),
  UNIQUE INDEX `SHIP_TRACK_NO_UNIQUE` (`SHIP_TRACK_NO` ASC) VISIBLE,
  INDEX `fk_SHIPMENT_ORDER1_idx` (`ORDER_ID` ASC) VISIBLE,
  INDEX `fk_SHIPMENT_EMPLOYEE1_idx` (`EMP_ID` ASC) VISIBLE,
  CONSTRAINT `fk_SHIPMENT_EMPLOYEE1`
    FOREIGN KEY (`EMP_ID`)
    REFERENCES `skyline_shop`.`employee` (`EMP_ID`),
  CONSTRAINT `fk_SHIPMENT_ORDER1`
    FOREIGN KEY (`ORDER_ID`)
    REFERENCES `skyline_shop`.`order` (`ORDER_ID`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
